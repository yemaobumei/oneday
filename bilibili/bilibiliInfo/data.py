
#原始数据包
b'\x00\x00\x01&\x00\x10\x00\x00\x00\x00\x00\x05\x00\x00\x00\x00{"info":[[0,1,25,16772431,1499939931,"1493972251",0,"7add70e6",0],"\xe8\xb0\xa2\xe8\xb0\xa2 \xe5\x8c\x97\xe6\x9e\x81\xe7\x86\x8a\xe7\xa1\xac\xe7\xb3\x96 \xe9\x80\x81\xe7\x9a\x84 \xe4\xba\xbf\xe5\x9c\x86x1",[25303175,"\xe6\x9c\x80\xe7\x9f\xad\xe7\x9a\x84\xe5\xa4\x9c\xe7\x8c\xab",1,1,0,10000,1],[16,"\xe5\x96\xb5\xe5\x92\xad","\xe5\x96\xb5\xe5\x92\xad\xe5\x96\xb5\xe5\x91\x9c","1273106",16746162,""],[25,0,5805790,">50000"],["title-123-1","title-123-1"],0,0],"cmd":"DANMU_MSG"}'
b'\x00\x00\x00\x14\x00\x10\x00\x01\x00\x00\x00\x03\x00\x00\x00\x01\x00\x00\x00\r'
b'\x00\x00\x00\xdd\x00\x10\x00\x00\x00\x00\x00\x05\x00\x00\x00\x00{"cmd":"SYS_MSG","msg":"\\u7cfb\\u7edf\\u516c\\u544a\\uff1abilibili\\u590f\\u65e5\\u6311\\u6218\\u7b2c\\u4e00\\u671f\\u6b63\\u5f0f\\u5f00\\u542f","rep":1,"url":"http:\\/\\/live.bilibili.com\\/pages\\/1702\\/summer-challenges"}'
b'\x00\x00\x00\xbb\x00\x10\x00\x00\x00\x00\x00\x05\x00\x00\x00\x00{"cmd":"SYS_GIFT","msg":"-c\\u55b5\\u513f\\u541bc-:?  \\u5728-CC\\u9171-\\u7684:?\\u76f4\\u64ad\\u95f4277:?\\u5185\\u8d60\\u9001:?74:?\\u5171225\\u4e2a","rnd":1499947725,"uid":27250159}'
#有问题经过解析的数据包
b'{"cmd":"SEND_GIFT","data":{"giftName":"\xe8\xbe\xa3\xe6\x9d\xa1","num":2,"uname":"\xe4\xb8\xad\xe4\xba\x8c\xe7\x97\x85\xe4\xba\x86\xe4\xb9\x9f\xe8\xa6\x81\xe6\x89\x93\xe9\xa3\x9e\xe6\x9c\xba","rcost":1242959,"uid":10920330,"top_list":[{"uid":88494874,"uname":"\xe8\xb6\x85\xe7\xba\xa7\xe8\xb7\xaf\xe4\xba\xba\xe7\x94\xb3","coin":498400,"face":"http:\\/\\/i2.hdslb.com\\/bfs\\/face\\/54f30084e211b1be1dde7c87100d7beb69e51dec.jpg","guard_level":"3"},{"uid":485170,"uname":"clyde hecate","coin":444800,"face":"http:\\/\\/i2.hdslb.com\\/bfs\\/face\\/fd89cd43d89d35384eaba4f0a97e3e74e31512a2.jpg","guard_level":0},{"uid":11011,"uname":"vi-cyan-","coin":400000,"face":"http:\\/\\/i0.hdslb.com\\/bfs\\/face\\/4891a761168fe33ae8dfbaa31dd20133729c09d8.jpg","guard_level":0}],"timestamp":1499871383468,"giftId":1,"giftType":0,"action":"\xe5\x96\x82\xe9\xa3\x9f","super":0,"price":100,"rnd":"2040638524","newMedal":0,"newTitle":0,"medal":[],"title":"","beatId":0,"biz_source":"live","metadata":"","remain":0,"eventScore":0,"eventNum":0,"notice_msg":[],"capsule":{"normal":{"coin":2,"change":0,"progress":{"now":6300,"max":10000}},"colorful":{"coin":0,"change":0,"progress":{"now":0,"max":5000}}}}'
b'{"cmd":"SEND_GIFT","data":{"giftName":"\xe8\xbe\xa3\xe6\x9d\xa1","num":6,"uname":"\xe5\x8b\xa5\xe5\x8d\xb8\xe8\xbd\xbd","rcost":15376665,"uid":2383092,"top_list":[{"uid":40098178,"uname":"\xe5\x86\xa5\xe7\x8e\x8b\xe6\x98\x9f\xe6\x8a\xa4\xe6\xb3\x95","coin":1841824,"face":"http:\\/\\/i0.hdslb.com\\/bfs\\/face\\/1e4fa5b339bbf39c2fcf74b3255abce9902238c2.jpg","guard_level":"3"},{"uid":60906886,"uname":"\xe4\xb8\x93\xe6\xb3\xa8\xe9\x9b\xaa\xe9\x9f\xb3\xe4\xb8\x89\xe5\x8d\x81\xe5\xb9\xb4\xe7\x9a\x84\xe8\xa8\x80\xe5\x8f\x94","coin":1006200,"face":"http:\\/\\/i0.hdslb.com\\/bfs\\/face\\/434133a7130f514c51130376726caa02aec5513b.jpg","guard_level":"3"},{"uid":7958883,"uname":"\xe6\x83\x85\xe7\xb7\x92\xe5\xa4\xb1\xe6\x8e\xa7\xe3\x82\x86\xe3\x81\x8d","coin":888900,"face":"http:\\/\\/i0.hdslb.com\\/bfs\\/face\\/6a6620b6b2d0c4f20017c2e73b562ec578760fa4.jpg","guard_level":"2"}],"timestamp":1499871387,"giftId":1,"giftType":0,"action":"\xe5\x96\x82\xe9\xa3\x9f","super":0,"price":100,"rnd":"1499870630","newMedal":0,"newTitle":0,"medal":[],"title":"","beatId":0,"biz_source":"live","metadata":"","remain":0,"eventScore":0,"eventNum":0,"notice_msg":[],"capsule":{"normal":{"coin":14,"change":0,"progress":{"now":8100,"max":10000}}'
b'{"cmd":"SEND_GIFT","data":{"giftName":"\xe8\xbe\xa3\xe6\x9d\xa1","num":1,"uname":"\xe7\xa0\xb4\xe7\x99\xbd","rcost":15376660,"uid":2413144,"top_list":[{"uid":40098178,"uname":"\xe5\x86\xa5\xe7\x8e\x8b\xe6\x98\x9f\xe6\x8a\xa4\xe6\xb3\x95","coin":1841824,"face":"http:\\/\\/i0.hdslb.com\\/bfs\\/face\\/1e4fa5b339bbf39c2fcf74b3255abce9902238c2.jpg","guard_level":"3"},{"uid":60906886,"uname":"\xe4\xb8\x93\xe6\xb3\xa8\xe9\x9b\xaa\xe9\x9f\xb3\xe4\xb8\x89\xe5\x8d\x81\xe5\xb9\xb4\xe7\x9a\x84\xe8\xa8\x80\xe5\x8f\x94","coin":1006200,"face":"http:\\/\\/i0.hdslb.com\\/bfs\\/face\\/434133a7130f514c51130376726caa02aec5513b.jpg","guard_level":"3"},{"uid":7958883,"uname":"\xe6\x83\x85\xe7\xb7\x92\xe5\xa4\xb1\xe6\x8e\xa7\xe3\x82\x86\xe3\x81\x8d","coin":888900,"face":"http:\\/\\/i0.hdslb.com\\/bfs\\/face\\/6a6620b6b2d0c4f20017c2e73b562ec578760fa4.jpg","guard_level":"2"}],"timestamp":0,"giftId":1,"giftType":0,"action":"\xe5\x96\x82\xe9\xa3\x9f","super":0,"price":100,"rnd":"1028125978","newMedal":0,"newTitle":0,"medal":[],"title":"","beatId":"","biz_source":"live","metadata":"","gold":"0","silver":3490,"eventScore":0,"eventNum":0,"notice_msg":[],"capsule":{"normal":{"coin":57,"change":0,"progress":{"now":5662,"max":10000}}'
b'{"cmd":"SEND_GIFT","data":{"giftName":"\xe4\xba\xbf\xe5\x9c\x86","num":1,"uname":"\xe5\x80\x92\xe6\x82\xac\xe6\x89\x93\xe9\xa3\x9e\xe6\x9c\xbax","rcost":132869,"uid":16265366,"top_list":[{"uid":8634911,"uname":"\xe8\x80\x81\xe6\xa1\x83\xe6\xa1\x83","coin":257300,"face":"http:\\/\\/i0.hdslb.com\\/bfs\\/face\\/363dfd8e8ab3e26e27913cabc8467c5c82bde92c.jpg","guard_level":0},{"uid":20141206,"uname":"\xe5\xa4\xa9\xe4\xb9\x8b\xe8\x87\xa7","coin":182900,"face":"http:\\/\\/i1.hdslb.com\\/bfs\\/face\\/3f4d1bbc281d94745fa1cfcd36f7700e53b45f6b.jpg","guard_level":0}'
b'{"cmd":"SEND_GIFT","data":{"giftName":"\xe4\xba\xbf\xe5\x9c\x86","num":1,"uname":"\xe5\x80\x92\xe6\x82\xac\xe6\x89\x93\xe9\xa3\x9e\xe6\x9c\xbax","rcost":132889,"uid":16265366,"top_list":[{"uid":8634911,"uname":"\xe8\x80\x81\xe6\xa1\x83\xe6\xa1\x83","coin":257300,"face":"http:\\/\\/i0.hdslb.com\\/bfs\\/face\\/363dfd8e8ab3e26e27913cabc8467c5c82bde92c.jpg","guard_level":0},{"uid":20141206,"uname":"\xe5\xa4\xa9\xe4\xb9\x8b\xe8\x87\xa7","coin":182900,"face":"http:\\/\\/i1.hdslb.com\\/bfs\\/face\\/3f4d1bbc281d94745fa1cfcd36f7700e53b45f6b.jpg","guard_level":0}'
b'{"cmd":"SEND_GIFT","data":{"giftName":"\xe5\xa3\x81\xe5\x92\x9a","num":5,"uname":"\xe4\xbd\xa0\xe6\x98\xaf\xe5\xa4\xa9\xe4\xbd\xbf\xc2\xb7\xe6\x88\x91\xe6\x98\xaf\xe5\x85\x89","rcost":435851,"uid":11041919,"top_list":[{"uid":5182754,"uname":"\xe7\xb4\xab\xe9\x99\x8c\xe6\xb8\x85\xe5\xb9\xbd","coin":284862,"face":"http:\\/\\/i2.hdslb.com\\/bfs\\/face\\/44da204670994cd2681a02480b633c9da507a0d7.jpg","guard_level":0},{"uid":21538595,"uname":"ZG\xe3\x80\x90zapgalaxy\xe3\x80\x91","coin":260900,"face":"http:\\/\\/i2.hdslb.com\\/bfs\\/face\\/7343321b7f13a933d89becce8125560db9691079.jpg","guard_level":0}'
b'{"cmd":"SEND_GIFT","data":{"giftName":"\xe8\xbe\xa3\xe6\x9d\xa1","num":99,"uname":"\xe4\xb9\x9d\xe6\x96\xb9\xe7\x99\xbd\xe9\xb8\xa6","rcost":435950,"uid":24186305,"top_list":[{"uid":5182754,"uname":"\xe7\xb4\xab\xe9\x99\x8c\xe6\xb8\x85\xe5\xb9\xbd","coin":284862,"face":"http:\\/\\/i2.hdslb.com\\/bfs\\/face\\/44da204670994cd2681a02480b633c9da507a0d7.jpg","guard_level":0}'
b'{"cmd":"SEND_GIFT","data":{"giftName":"\xe5\xa3\x81\xe5\x92\x9a","num":5,"uname":"\xe4\xbd\xa0\xe6\x98\xaf\xe5\xa4\xa9\xe4\xbd\xbf\xc2\xb7\xe6\x88\x91\xe6\x98\xaf\xe5\x85\x89","rcost":435950,"uid":11041919,"top_list":[{"uid":5182754,"uname":"\xe7\xb4\xab\xe9\x99\x8c\xe6\xb8\x85\xe5\xb9\xbd","coin":284862,"face":"http:\\/\\/i2.hdslb.com\\/bfs\\/face\\/44da204670994cd2681a02480b633c9da507a0d7.jpg","guard_level":0},{"uid":21538595,"uname":"ZG\xe3\x80\x90zapgalaxy\xe3\x80\x91","coin":260900,"face":"http:\\/\\/i2.hdslb.com\\/bfs\\/face\\/7343321b7f13a933d89becce8125560db9691079.jpg","guard_level":0},{"uid":5034788,"uname":"\xe5\xa4\xa7\xe9\x97\xb8\xe8\x9f\xb9\xe4\xb8\x8d\xe5\x90\x83\xe5\xa7\x9c","coin":234900,"face":"http:\\/\\/i2.hdslb.com\\/bfs\\/face\\/7d96c78a2bbc11ea38ec2dc92be1fa393f203359.jpg","guard_level":0}'
b'{"cmd":"SEND_GIFT","data":{"giftName":"\xe8\xbe\xa3\xe6\x9d\xa1","num":1,"uname":"\xe6\x9c\xb4\xe5\xae\x9e\xe7\x9a\x84\xe5\x8a\xb3\xe5\x8a\xa8\xe4\xba\xba\xe6\xb0\x91\xe8\x80\x81\xe7\x8e\x8b","rcost":435951,"uid":4167456,"top_list":[{"uid":5182754,"uname":"\xe7\xb4\xab\xe9\x99\x8c\xe6\xb8\x85\xe5\xb9\xbd","coin":284862,"face":"http:\\/\\/i2.hdslb.com\\/bfs\\/face\\/44da204670994cd2681a02480b633c9da507a0d7.jpg","guard_level":0},{"uid":21538595,"uname":"ZG\xe3\x80\x90zapgalaxy\xe3\x80\x91","coin":260900,"face":"http:\\/\\/i2.hdslb.com\\/bfs\\/face\\/7343321b7f13a933d89becce8125560db9691079.jpg","guard_level":0},{"uid":5034788,"uname":"\xe5\xa4\xa7\xe9\x97\xb8\xe8\x9f\xb9\xe4\xb8\x8d\xe5\x90\x83\xe5\xa7\x9c","coin":234900,"face":"http:\\/\\/i2.hdslb.com\\/bfs\\/face\\/7d96c78a2bbc11ea38ec2dc92be1fa393f203359.jpg","guard_level":0}'
b'{"cmd":"SEND_GIFT","data":{"giftName":"\xe5\xa3\x81\xe5\x92\x9a","num":5,"uname":"\xe4\xbd\xa0\xe6\x98\xaf\xe5\xa4\xa9\xe4\xbd\xbf\xc2\xb7\xe6\x88\x91\xe6\x98\xaf\xe5\x85\x89","rcost":435950,"uid":11041919,"top_list":[{"uid":5182754,"uname":"\xe7\xb4\xab\xe9\x99\x8c\xe6\xb8\x85\xe5\xb9\xbd","coin":284862,"face":"http:\\/\\/i2.hdslb.com\\/bfs\\/face\\/44da204670994cd2681a02480b633c9da507a0d7.jpg","guard_level":0},{"uid":21538595,"uname":"ZG\xe3\x80\x90zapgalaxy\xe3\x80\x91","coin":260900,"face":"http:\\/\\/i2.hdslb.com\\/bfs\\/face\\/7343321b7f13a933d89becce8125560db9691079.jpg","guard_level":0},{"uid":5034788,"uname":"\xe5\xa4\xa7\xe9\x97\xb8\xe8\x9f\xb9\xe4\xb8\x8d\xe5\x90\x83\xe5\xa7\x9c","coin":234900,"face":"http:\\/\\/i2.hdslb.com\\/bfs\\/face\\/7d96c78a2bbc11ea38ec2dc92be1fa393f203359.jpg","guard_level":0}'
b'{"cmd":"SEND_GIFT","data":{"giftName":"\xe8\xbe\xa3\xe6\x9d\xa1","num":1,"uname":"\xe7\x99\xbd\xe8\x8e\xab\xe8\x8e\xab\xe8\x8e\xab\xe8\x8e\xab\xe8\x8e\xab\xe8\x8e\xab","rcost":21700490,"uid":36591286,"top_list":[{"uid":5803468,"uname":"\xe8\xa2\xab\xe6\x88\xbf\xe7\xae\xa1\xe7\xa6\x81\xe8\xa8\x80\xe7\x9a\x84\xe5\x8d\x81C","coin":486500,"face":"http:\\/\\/i2.hdslb.com\\/bfs\\/face\\/9e09b1c0720372d94a9c5f61e8fc950c4ffe727f.jpg","guard_level":0},{"uid":38368293,"uname":"\xe6\x9c\x88\xe5\xa4\x9cr","coin":464800,"face":"http:\\/\\/i1.hdslb.com\\/bfs\\/face\\/1533334a2822bdefc0a0788fcb4e5b2b20f1eb0a.jpg","guard_level":0},{"uid":13061006,"uname":"\xe6\x98\x9f\xe6\xb0\xb4\xe5\xa4\x9c","coin":324228,"face":"http:\\/\\/i0.hdslb.com\\/bfs\\/face\\/0243f02dea32d83196b00d87b90798d32dae4922.jpg","guard_level":"3"}],"timestamp":1499871383982,"giftId":1,"giftType":0,"action":"\xe5\x96\x82\xe9\xa3\x9f","super":0,"price":100,"rnd":"1802611529","newMedal":0,"newTitle":0,"medal":[],"title":"","beatId":0,"biz_source":"live","metadata":"","remain":2,"eventScore":0,"eventNum":2,"notice_msg":[],"capsule":{"normal":{"coin":10,"change":0,"progress":{"now":4330,"max":10000}}'

#解码过的数据
'{"cmd":"SEND_GIFT","data":{"giftName":"辣条","num":2,"uname":"中二病了也要打飞机","rcost":1242959,"uid":10920330,"top_list":[{"uid":88494874,"uname":"超级路人申","coin":498400,"face":"http:\\/\\/i2.hdslb.com\\/bfs\\/face\\/54f30084e211b1be1dde7c87100d7beb69e51dec.jpg","guard_level":"3"},{"uid":485170,"uname":"clyde hecate","coin":444800,"face":"http:\\/\\/i2.hdslb.com\\/bfs\\/face\\/fd89cd43d89d35384eaba4f0a97e3e74e31512a2.jpg","guard_level":0},{"uid":11011,"uname":"vi-cyan-","coin":400000,"face":"http:\\/\\/i0.hdslb.com\\/bfs\\/face\\/4891a761168fe33ae8dfbaa31dd20133729c09d8.jpg","guard_level":0}],"timestamp":1499871383468,"giftId":1,"giftType":0,"action":"喂食","super":0,"price":100,"rnd":"2040638524","newMedal":0,"newTitle":0,"medal":[],"title":"","beatId":0,"biz_source":"live","metadata":"","remain":0,"eventScore":0,"eventNum":0,"notice_msg":[],"capsule":{"normal":{"coin":2,"change":0,"progress":{"now":6300,"max":10000}},"colorful":{"coin":0,"change":0,"progress":{"now":0,"max":5000}}}}'



#websocket连接获取数据包里可能会有多条弹幕
b'\x00\x00\x01\x0e\x00\x10\x00\x00\x00\x00\x00\x05\x00\x00\x00\x00{"info":[[0,1,25,16777215,1501151390,1006652787,0,"a068f1e9",0],"\xe5\x8d\xa1\xe5\x93\x87\xe4\xbc\x8a",[57599384,"\xe4\xbb\xa3\xe5\x8f\xb7V\xe7\x81\xb0\xe9\xb8\xbd",0,0,0,10000,1],[2,"\xe5\xb8\x85\xe5\x85\xbd","\xe8\x99\x8e\xe7\x89\x99\xe5\xa3\xb9\xe6\x9d\x86\xe7\xa6\xbd\xe5\x85\xbd\xe7\x8b\x99","3027357",6406234,""],[16,0,6406234,">50000"],["sign-one-month","title-17-1"],0,0],"cmd":"DANMU_MSG"}\x00\x00\x00\xc3\x00\x10\x00\x00\x00\x00\x00\x05\x00\x00\x00\x00{"info":[[0,1,25,16777215,1501151390,1360088408,0,"e39abf12",0],"\xe5\x8f\xaf\xe7\x88\xb1\xe1\xbb\x9b \xe2\x82\x83\xe1\xbb\x9d",[30057743,"\xe6\xb4\x97\xe8\xa1\xa3\xe6\x9c\xba\xe7\x9a\x84bili",0,0,0,10000,1],[],[8,0,9868950,">50000"],[],0,0],"cmd":"DANMU_MSG"}'